<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
  <view class="user-section card">
    <view class="user-info">
      <image class="avatar" src="{{ userInfo.avatarUrl || '/assets/images/default-avatar.png' }}" mode="aspectFill"></image>
      <view class="user-detail">
        <text class="nickname">{{ userInfo.nickName || 'æœªç™»å½•' }}</text>
        <view class="user-badge">
          <text class="badge-icon">ğŸ†</text>
          <text class="badge-text">{{ badgeLevel }}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stats-grid">
      <view class="stat-card">
        <text class="stat-number">{{ totalCheckin }}</text>
        <text class="stat-label">ç­¾åˆ°å¤©æ•°</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">{{ cigaretteCount }}</text>
        <text class="stat-label">ç”µå­çƒŸ</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">{{ shareCount }}</text>
        <text class="stat-label">é€çƒŸæ¬¡æ•°</text>
      </view>
    </view>
  </view>

  <!-- æˆ‘çš„å‹‹ç«  -->
  <view class="badges-section card">
    <view class="section-header">
      <text class="section-title">æˆ‘çš„å‹‹ç« </text>
      <text class="badge-count">{{ badgeCount }}/{{ totalBadges }}</text>
    </view>
    <view class="badges-grid">
      <view 
        class="badge-item {{ item.unlocked ? '' : 'locked' }}" 
        wx:for="{{ badges }}" 
        wx:key="type"
      >
        <text class="badge-emoji">{{ item.icon }}</text>
        <text class="badge-name">{{ item.name }}</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½å…¥å£ -->
  <view class="menu-section">
    <view class="menu-item" bindtap="goToCertificate">
      <view class="menu-left">
        <text class="menu-icon">ğŸ†</text>
        <text class="menu-title">æˆ‘çš„è¯ä¹¦</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
    <view class="menu-item" bindtap="goToCollection">
      <view class="menu-left">
        <text class="menu-icon">â­</text>
        <text class="menu-title">æˆ‘çš„æ”¶è—</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
    <view class="menu-item" bindtap="goToCalendar">
      <view class="menu-left">
        <text class="menu-icon">ğŸ“…</text>
        <text class="menu-title">ç­¾åˆ°æ—¥å†</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
    <view class="menu-item" bindtap="goToSettings">
      <view class="menu-left">
        <text class="menu-icon">âš™ï¸</text>
        <text class="menu-title">è®¾ç½®ä¸­å¿ƒ</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
    <view class="menu-item" bindtap="goToAbout">
      <view class="menu-left">
        <text class="menu-icon">â„¹ï¸</text>
        <text class="menu-title">å…³äºæˆ‘ä»¬</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
    <view class="menu-item" bindtap="handleFeedback">
      <view class="menu-left">
        <text class="menu-icon">ğŸ’¬</text>
        <text class="menu-title">æ„è§åé¦ˆ</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
  </view>

  <!-- Bannerå¹¿å‘Š -->
  <view class="ad-section">
    <ad unit-id="adunit-xxxxxxxxxxxxxxxx" ad-type="banner" ad-theme="white"></ad>
  </view>
</view>
