<!--pages/badges/badges.wxml-->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="header">
    <text class="title">æˆ‘çš„å‹‹ç« </text>
    <text class="subtitle">å·²è§£é” {{ unlockedCount }}/{{ totalCount }} ä¸ªå‹‹ç« </text>
  </view>

  <!-- å‹‹ç« åˆ—è¡¨ -->
  <view class="badges-list">
    <view 
      class="badge-card {{ item.unlocked ? 'unlocked' : 'locked' }}" 
      wx:for="{{ badges }}" 
      wx:key="type"
    >
      <view class="badge-icon-wrapper">
        <text class="badge-icon">{{ item.icon }}</text>
        <view class="badge-status" wx:if="{{ item.unlocked }}">
          <text class="status-text">å·²è§£é”</text>
        </view>
        <view class="badge-lock" wx:else>
          <text class="lock-icon">ğŸ”’</text>
        </view>
      </view>
      
      <view class="badge-info">
        <text class="badge-name">{{ item.name }}</text>
        <text class="badge-desc">è¿ç»­æˆ’çƒŸ {{ item.days }} å¤©è§£é”</text>
        <view class="badge-progress" wx:if="{{ !item.unlocked }}">
          <text class="progress-text">è¿˜éœ€ {{ item.days - quitDays }} å¤©</text>
        </view>
        <view class="badge-unlock-date" wx:else>
          <text class="unlock-text">è§£é”äº {{ item.unlockDate }}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{ badges.length === 0 }}">
    <text class="empty-icon">ğŸ…</text>
    <text class="empty-text">æš‚æ— å‹‹ç« æ•°æ®</text>
  </view>
</view>
